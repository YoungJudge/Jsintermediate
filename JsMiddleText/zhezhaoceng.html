<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta charset ="utf-8">
    <title>遮罩层</title>

</head>
<style>
    *{margin:0px;padding:0px;}
    body{height:2000px;}
    #zhezhao{position:absolute;left:0px;top:0px;width:100%;height:0px;background:black;opacity: 0.6;filter:alpha(opacity=60);display:none;}
    #center{position:absolute;background:white;left:0px;top:0px;width:200px;height:200px;}
    #close{width:50px;height:50px;right:0px;top:0px;background:pink;line-height:50px;text-align:center;}
</style>
<body>
<button id="btn1">弹出</button>
<div id="zhezhao">
    <div id="center">
        <div id="close">X</div>
    </div>
</div>
</body>
<script>
    var btn1 = document.getElementById("btn1");
    var zhezhao = document.getElementById("zhezhao");
    var center = document.getElementById("center");
    var close = document.getElementById("close");
    zhezhao.style["height"] = document.body.clientHeight+"px";
    atp();
    btn1.onclick = function(){
        zhezhao.style["display"] = "block";
        atp();
        window.onresize = function(){atp();};
        window.onscroll = function(){atp();};
    }
    function atp(){
        var scrolltop = document.documentElement.scrollTop || document.body.scrollTop;
        var height = center.offsetHeight;
        var width = center.offsetWidth;
        var heightall = document.documentElement.clientHeight/2;  //这里只能是documentElement而不能是body一个表示可见区域。另外那个是body
        var widthall = document.documentElement.clientWidth/2;
        center.style["top"] = (scrolltop+heightall-height/2)+"px";
        center.style["left"] = (widthall-width/2)+"px";
    }
    close.onclick = function(){
        zhezhao.style["display"] = "none";
    }
</script>
</html>